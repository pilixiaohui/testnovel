# Current Task (Iteration 12)
assigned_agent: DEV
self_test: enabled

## 任务目标
实现 M4-T1: 10章生成E2E测试

创建端到端测试，验证从Step1输入到10章全部rendered_content生成的完整流程。

## 功能需求
1. 测试输入：使用故事概念 "名为何方的时空旅人穿越到赛博朋克世界的日常生活故事"
2. 执行完整雪花流程：Step1→Step2→Step3→Step4→Step5a→Step5b→Step6
3. 验证生成10章，每章调用render API生成rendered_content
4. 验证每章字数在1800-2200范围内
5. 快速失败：任一步骤失败立即终止并报告

## 技术要点
- 测试文件路径: `project/backend/tests/integration/test_ten_chapter_e2e.py`
- 可使用真实LLM调用或合理的mock（若mock需确保测试有意义）
- 参考现有集成测试模式: `tests/integration/conftest.py`
- API端点参考: `project/backend/app/main.py`

## 验收标准
1. `cd project/backend && python -m pytest tests/integration/test_ten_chapter_e2e.py -v` → 测试可运行
2. 测试覆盖完整10章生成流程
3. 每章字数验证逻辑正确（1800-2200）
4. 测试结构清晰，断言明确

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- Memgraph: localhost:7687

## 注意事项
- E2E测试可能耗时较长，考虑合理的timeout设置
- 若使用mock，确保mock的是外部依赖（如LLM），而非被测逻辑
- 测试应能在CI环境中稳定运行
