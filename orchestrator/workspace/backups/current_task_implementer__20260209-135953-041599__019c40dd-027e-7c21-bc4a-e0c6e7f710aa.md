# Current Task (Iteration 1)
assigned_agent: IMPLEMENTER
self_test: enabled

## 任务目标
对照需求文档和实际代码，调研并修复前端所有已知和潜在问题，确保完整的用户体验。

## 需求边界
- 输入：用户报告的问题清单 + 需求文档 `doc/frontend_implementation_spec.md`
- 输出：修复后的前端代码，所有功能正常工作
- 行为：先调研确认每个问题是否属实，再逐一修复

## 用户报告的问题清单
1. **项目无法保存**：项目创建/编辑后无法持久化保存
2. **提示词不显示实际值**：提示词编辑器没有显示当前实际使用的提示词（应从后端/数据库获取）
3. **标签页切换出错**：各个标签页（雪花/推演/编辑器/世界观/设置）切换时出现错误
4. **无法提取图信息和推演**：图知识库提取和多代理推演功能无法正常工作
5. **设置页 LLM 配置不真实**：设置中的 LLM 配置不是显示数据库内的真实配置
6. **项目管理不完善**：无法新建项目，项目管理功能缺失
7. **雪花步骤内容不完整**：生成的角色、场景、幕、章、锚点等只显示名字列表，看不到完整信息
8. **缺少原始信息和解析结果显示**：需要能够直接显示 LLM 返回的原始信息和解析后的结构化结果

## 调研要求
- 逐一检查每个报告的问题，确认是否属实
- 对照 `doc/frontend_implementation_spec.md` 检查是否还有其他未报告的问题
- 检查前端与后端 API 的对接是否正确（字段名、请求格式、响应处理）
- 检查 Pinia Store 的状态管理是否正确
- 检查路由和导航是否正常

## 测试场景
1. 正常场景：创建新项目 → 雪花6步生成 → 推演 → 编辑 → 保存，全流程正常
2. 边界值：空项目、无数据时各页面不崩溃
3. 错误处理：后端不可用时前端有合理提示
4. 验收测试：以生成一个10章每章2000字的短篇小说为端到端测试任务

## 验收标准（抽象描述）
- 项目可正常创建、保存、加载
- 提示词编辑器显示从后端获取的实际提示词
- 所有标签页切换正常无报错
- 图信息提取和推演功能可正常触发并返回结果
- 设置页 LLM 配置显示数据库内真实配置
- 雪花步骤生成的所有内容（角色、场景、幕、章、锚点）显示完整字段信息，不仅仅是名字
- 支持查看原始 LLM 返回和解析后的结构化结果
- 前端构建无报错
- 多代理推理、图知识库提取等核心功能正确可靠

## 约束条件
- 先调研确认问题属实再修复，不要盲目修改
- 不改变后端 API 接口（除非发现后端也有 bug 需要同步修复）
- 遵循现有技术栈：Vue 3 + Composition API + Element Plus + Pinia + TypeScript
- 所有 API 调用通过统一的 api/ 模块
- 组件使用 `<script setup lang="ts">` 语法
- 注意用户实际使用体验，不仅仅是功能正确

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

