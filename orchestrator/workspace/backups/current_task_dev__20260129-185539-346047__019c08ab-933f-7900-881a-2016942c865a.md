# Current Task (Iteration 8)
assigned_agent: DEV
self_test: enabled

## 任务目标
根据 FINISH_REVIEW 报告修复前端规格落地与测试配置问题。

## 问题清单（按优先级）

### P0-1: 测试配置修复（优先）
- **问题**：`npm run test:unit` 失败，因 vitest 误收集 Playwright E2E 测试文件
- **方案**：修改 vitest.config.ts 排除 `tests/e2e` 目录
- **相关文件**：`project/frontend/vitest.config.ts`

### P0-2: 后端依赖问题
- **问题**：pytest 因缺少 gqlalchemy 导致收集失败
- **方案**：确认 gqlalchemy 已安装或在测试中正确 mock
- **相关文件**：`project/backend/app/storage/schema.py:5`

### P0-3: 后端 No-Go 依赖违规（评估）
- **问题**：LLMEngine 直接使用 google-generativeai，违反 No-Go 约束
- **方案**：评估是否需要修改为通过 ToponeGateway 调用
- **相关文件**：`project/backend/app/services/llm_engine.py:32`
- **注意**：此问题可能需要较大改动，本轮优先修复测试配置

## 验收标准
必须依次执行以下命令并在报告中汇报每项结果：
1. `cd /home/zxh/ainovel_v3/project/frontend && npm run build` → 构建成功
2. `cd /home/zxh/ainovel_v3/project/frontend && npm run test:unit` → 单元测试通过（修复 vitest 配置后）
3. `cd /home/zxh/ainovel_v3/project/frontend && npm run test:e2e` → E2E 测试通过
4. 使用 Playwright MCP 访问 http://localhost:5173/ 验证首页正常显示

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687

