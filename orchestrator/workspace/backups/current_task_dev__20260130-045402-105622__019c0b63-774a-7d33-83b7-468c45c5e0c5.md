# Current Task (Iteration 8)
assigned_agent: DEV
self_test: enabled

## 任务目标
扩展Chapter模型，添加rendered_content和review_status字段，并确保Memgraph存储层支持

## 背景
- TEST已创建测试：`project/backend/tests/unit/test_chapter_model.py`
- 当前红灯原因：
  1. Chapter模型缺少rendered_content/review_status字段
  2. review_status应为枚举(pending/approved/rejected)，默认pending
  3. schema缺少这两个字段
  4. create_chapter签名缺少参数
  5. _chapter_props未包含字段

## 实现要求
1. 在`project/backend/app/models.py`的Chapter类中添加：
   - `rendered_content: Optional[str] = None` - 渲染后的章节正文
   - `review_status: ReviewStatus = ReviewStatus.pending` - 审核状态枚举
2. 定义ReviewStatus枚举：pending/approved/rejected
3. 在`project/backend/app/storage/schema.py`中添加Chapter的这两个字段
4. 在`project/backend/app/storage/memgraph_storage.py`中：
   - create_chapter方法签名添加rendered_content和review_status参数
   - _chapter_props方法输出包含这两个字段
   - get_chapter返回时包含这两个字段

## 被修改代码
- `project/backend/app/models.py` - Chapter类和ReviewStatus枚举
- `project/backend/app/storage/schema.py` - Chapter schema
- `project/backend/app/storage/memgraph_storage.py` - create_chapter/_chapter_props/get_chapter

## 验收标准
1. `cd project/backend && MEMGRAPH_HOST=localhost MEMGRAPH_PORT=7687 python -m pytest tests/unit/test_chapter_model.py -v` → 7个测试全部PASS
2. Chapter实例化时review_status默认为pending
3. review_status非法值触发ValidationError

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687

