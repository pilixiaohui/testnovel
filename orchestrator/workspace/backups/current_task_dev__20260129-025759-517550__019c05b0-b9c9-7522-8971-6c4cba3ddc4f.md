# Current Task (Iteration 9)
assigned_agent: DEV
self_test: enabled

## 任务目标
补齐 simulation 组件，按 `doc/frontend_implementation_spec.md` 附录 B 创建推演系统相关组件。

## 实现要求

### 1. 创建 components/simulation 目录结构
将推演系统组件放入 `src/components/simulation/` 目录。

### 2. 创建 AgentStatePanel.vue
角色代理状态面板组件，包含：
- 展示角色头像/名称
- 使用 el-collapse 展示 beliefs/desires/intentions
- desires 按 priority 显示 el-tag
- Props: `agentState: CharacterAgentState`

### 3. 创建 ArbitrationResult.vue
裁决结果展示组件，包含：
- 展示 action_results 列表（成功/部分/失败状态）
- 展示 conflicts_resolved 警告
- 展示 environment_changes
- Props: `arbitration: DMArbitration`

### 4. 创建 ConvergenceIndicator.vue
收敛指示器组件，包含：
- el-progress 显示 (1-distance)*100
- el-descriptions 显示目标锚点/距离/平均信息增量
- el-alert 显示停滞警告或收敛建议
- Props: `convergence: ConvergenceCheck`, `avgInfoGain?: number`, `isStagnant?: boolean`

### 5. 创建 RoundPlayer.vue
回合播放器组件，包含：
- 回合导航（上一轮/下一轮按钮）
- 当前回合索引显示
- 播放/暂停自动推演按钮
- Props: `currentRound: number`, `totalRounds: number`, `isPlaying?: boolean`
- Emits: `prev`, `next`, `play`, `pause`, `goto`

### 6. 移动现有组件
若 `ActionTimeline.vue` 已存在于 components 根目录，移动到 `components/simulation/` 目录。

## 验收标准
必须依次执行以下命令并在报告中汇报每项结果：
1. `test -d project/frontend/src/components/simulation && echo 'exists'` → 应输出 exists
2. `test -f project/frontend/src/components/simulation/AgentStatePanel.vue && echo 'exists'` → 应输出 exists
3. `test -f project/frontend/src/components/simulation/ArbitrationResult.vue && echo 'exists'` → 应输出 exists
4. `test -f project/frontend/src/components/simulation/ConvergenceIndicator.vue && echo 'exists'` → 应输出 exists
5. `test -f project/frontend/src/components/simulation/RoundPlayer.vue && echo 'exists'` → 应输出 exists
6. `test -f project/frontend/src/components/simulation/ActionTimeline.vue && echo 'exists'` → 应输出 exists
7. `cd project/frontend && npm run build` → 构建成功，退出码 0

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687

