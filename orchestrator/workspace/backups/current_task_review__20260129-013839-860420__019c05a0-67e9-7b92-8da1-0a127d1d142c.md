# Current Task (Iteration 1)
assigned_agent: REVIEW
review_mode: single

## 任务目标
对现有前后端代码进行全面审阅，对比需求文档，生成差距分析报告。

## 审阅范围

### 后端代码审阅 (`/home/zxh/ainovel_v3/project/backend/`)
1. **API 端点覆盖率**：对比 `系统架构与技术规格.md` 第五节定义的 54 个 API 端点，检查 `app/main.py` 中已实现的端点
2. **数据模型完整性**：对比第四节定义的 16 个节点类型和 50 个 Pydantic 模型，检查 `app/models.py` 和 `app/storage/schema.py`
3. **服务模块实现**：对比第三节定义的 9 个服务模块，检查 `app/services/` 目录
4. **核心算法**：检查 BDI 决策引擎、DM 裁决引擎、动态补路、智能渲染等核心算法实现状态

### 前端代码审阅 (`/home/zxh/ainovel_v3/project/frontend/`)
1. **目录结构**：对比 `frontend_implementation_spec.md` 第 1.1 节定义的目录结构
2. **API 调用层**：检查 `src/api/` 目录，对比附录 C 定义的 58 个 API 函数
3. **类型定义**：检查 `src/types/` 目录，对比第 2 节定义的类型
4. **状态管理**：检查 `src/stores/` 目录，对比第 4 节定义的 Pinia Stores
5. **组件实现**：检查 `src/components/` 和 `src/views/`，对比附录 B 定义的 32 个组件
6. **路由配置**：检查 `src/router/`，对比附录 A 定义的 6 条路由

## 输出要求

报告必须包含以下小节：

### 1. 后端差距分析
- 已实现的 API 端点列表（数量/总数）
- 缺失的 API 端点列表
- 已实现的数据模型列表
- 缺失的数据模型列表
- 已实现的服务模块列表
- 缺失的服务模块列表

### 2. 前端差距分析
- 目录结构符合度
- 已实现的 API 函数列表（数量/总数）
- 缺失的 API 函数列表
- 已实现的类型定义列表
- 缺失的类型定义列表
- 已实现的 Store 列表
- 缺失的 Store 列表
- 已实现的组件列表（数量/总数）
- 缺失的组件列表

### 3. 优先级建议
基于差距分析，建议实现优先级（按 Milestone 划分）

## 验收标准
1. 报告包含后端差距分析小节，列出 API 端点覆盖率（已实现/54）
2. 报告包含前端差距分析小节，列出组件覆盖率（已实现/32）
3. 报告包含优先级建议小节，按 Milestone 划分实现顺序

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687

