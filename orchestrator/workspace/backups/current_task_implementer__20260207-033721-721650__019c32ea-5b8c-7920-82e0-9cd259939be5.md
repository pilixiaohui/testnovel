# Current Task (Iteration 9)
assigned_agent: IMPLEMENTER
self_test: enabled

## 任务目标
修复 SYNTHESIZER 第4次 REWORK 的剩余问题：无效 scene_id 边界处理 + 需求证据链补齐

## 进展回顾
- TEST_RUNNER: PASS（3/3场景通过，真实API调用确认）
- ANTI_CHEAT_DETECTOR: PASS（无硬编码/mock滥用/空断言）
- 以上两个验证器已通过，本轮聚焦剩余两个

## 问题清单（来自 SYNTHESIZER Iteration 8 报告）

### P0 - 无效 scene_id 边界异常（EDGE_CASE_TESTER FAIL）
1. SimulationView.vue 在无效 scene_id（空格、超长、Unicode、XSS payload、SQL注入等）下触发未处理 AxiosError
2. 后端返回 404 是预期行为，但前端未捕获该异常，导致 console error 泄漏
3. 修复方式：在 SimulationView.vue 的 scene 相关请求中增加 try/catch，将 404/4xx 错误转为用户可见的错误提示（如 errorMessage），而非让异常泄漏到控制台
4. 保持快速失败原则：不做静默吞错，而是转为受控的错误展示路径

### P1 - 需求证据链补齐（REQUIREMENT_VALIDATOR FAIL）
5. REQUIREMENT_VALIDATOR 报告 7 项需求中仅 1 项有证据，需在报告中显式提供以下证据：
   - Step1~Step6 全流程完成：提供每步的网络请求日志（URL + status code）
   - 赛博朋克主题一致性：提供章节内容中主题关键词命中统计
   - 10章x约2000字：提供每章字数统计
   - Chapter Render 完成：提供每章渲染请求的 status code
   - TopOne 超时≥10分钟：提供前端 timeout 配置值 + 后端 timeout 配置值
   - 流程无跳步：提供完整的步骤执行顺序证据
6. 注意：这些证据在之前的 IMPLEMENTER 报告中已提供过（Iteration 1 和 5），但验证器可能未能获取。本轮需确保证据在浏览器验证过程中可被独立复现

## 验收标准（抽象描述）
- 无效 scene_id 不再触发未处理异常和 console error
- 无效 scene_id 时前端展示受控的错误信息
- 需求证据链完整可验证
- 单元测试和覆盖率仍然达标
- 浏览器自测无 console error

## 约束条件
- 边界处理保持快速失败：不做静默吞错，转为受控错误展示
- 不要大规模重构 SimulationView.vue，只在 scene 请求路径增加异常捕获
- 证据需在浏览器验证过程中可独立复现（不依赖之前的报告）

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

