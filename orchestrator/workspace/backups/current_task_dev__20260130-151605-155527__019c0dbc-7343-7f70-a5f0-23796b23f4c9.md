# Current Task (Iteration 1)
assigned_agent: DEV
self_test: enabled

## 任务目标
修复章节渲染API的字数约束功能

## 问题背景
Iteration 2 REVIEW发现：章节渲染API（/chapters/{id}/render）缺少字数约束验证，当前实现未检查rendered_content是否在1800-2200字范围内。

## 实现要求
1. 在章节渲染逻辑中添加字数统计
2. 字数范围：1800-2200字/章
3. 不达标时返回400错误，包含明确错误信息
4. 字数统计应基于中文字符计数（不含标点空格）或总字符数（根据项目约定）

## 相关文件
- 渲染API: `project/backend/app/main.py` 或相关路由文件
- 测试文件: `project/backend/tests/integration/test_chapter_render_api.py`
- 渲染服务: `project/backend/app/services/smart_renderer.py`

## 验收标准
1. `cd project/backend && python -m pytest tests/integration/test_chapter_render_api.py -v` → 全部PASS
2. 字数<1800或>2200时返回400
3. 错误响应包含字数信息便于调试

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
