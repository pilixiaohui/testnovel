# Current Task (Iteration 4)
assigned_agent: IMPLEMENTER
self_test: enabled
resume: true

## SYNTHESIZER REWORK 原因
SYNTHESIZER判定REWORK，以下3个验证器FAIL需要修复：

### 1. EDGE_CASE_TESTER FAIL - 创建项目重复提交
**问题**：快速重复点击"创建项目"按钮时，触发3次并发POST `/api/v1/roots`请求，创建了3个同名项目。
**修复要求**：在HomeView的创建项目按钮上增加防重复提交机制（loading状态锁定按钮/请求去重），确保快速连续点击只触发一次创建请求。

### 2. REQUIREMENT_VALIDATOR FAIL - 状态提取和推演功能缺少证据
**问题**：需求4（状态提取和推演功能可用）仅证明可进入页面，缺少"状态提取/推演功能执行成功"的黑盒结果。
**修复要求**：确保StateExtractPanel和SimulationView的核心功能链路可用——状态提取按钮点击后能调用后端API并显示结果，推演按钮点击后能执行推演并显示回合结果。用Playwright MCP验证这些功能的完整执行链路（输入→执行→输出）。

### 3. ANTI_CHEAT_DETECTOR FAIL - 空断言
**问题**：检测到4234条空断言可疑项，影响测试可信度。
**修复要求**：检查前端测试文件中是否存在无效/空断言（如`expect().toBeTruthy()`对空值、无断言的test块等），清理或补充有效断言。重点检查tests/目录下的spec文件。

## 验收标准
- 快速连续点击创建项目按钮只触发一次API请求
- 状态提取功能可执行并返回结果（Playwright MCP验证）
- 推演功能可执行并返回回合结果（Playwright MCP验证）
- 测试文件中无空断言/无效断言
- 所有现有单元测试继续通过

## 约束
- 前端项目路径：/home/zxh/ainovel_v3/project/frontend
- 后端项目路径：/home/zxh/ainovel_v3/project/backend
- 前端开发端口：5185
- 防重复提交用最简方案（loading flag），不要引入新依赖
- 修复时不要破坏已有功能

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

