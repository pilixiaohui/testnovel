# Current Task (Iteration 1)
assigned_agent: IMPLEMENTER
self_test: enabled

## 任务目标
全面调研前端代码，对照 frontend_implementation_spec.md 规格文档和系统架构文档，找出所有存在的问题并逐一修复。

## 需求边界

### 用户明确报告的问题
1. **项目无法保存**：项目数据保存功能失效
2. **提示词未显示实际值**：雪花流程中的提示词编辑器没有显示当前实际使用的提示词
3. **标签页切换出错**：各个视图/标签页之间切换存在错误
4. **无法提取图信息和推演**：状态提取和推演功能不可用
5. **设置中LLM配置不显示真实数据**：SettingsView 中的 LLM 配置没有从数据库读取真实配置
6. **项目管理不完善，无法新建项目**：HomeView 项目管理功能缺失或不完整
7. **雪花步骤生成内容只显示名字列表**：Step3（角色）、Step4（场景）、Step5（幕章）等生成的内容只能看到名字，无法看到完整信息（如角色的 ambition/conflict/epiphany/voice_dna 等字段），需要能够直接显示原始信息和解析结果

### 需要额外排查的问题
- 对照 frontend_implementation_spec.md 中定义的所有 API 调用、Store 状态管理、组件规格，检查是否还有其他未实现或实现错误的功能
- 检查 API 层（api/*.ts）是否与后端端点正确对应
- 检查 Store（stores/*.ts）是否正确管理状态
- 检查组件是否正确渲染数据

## 测试场景
1. 正常场景：创建新项目 → 进入雪花流程 → 各步骤生成内容 → 查看完整信息 → 保存项目
2. 标签页切换：在各个视图间切换不报错
3. 设置页面：LLM 配置显示真实数据库配置
4. 提示词：显示当前实际使用的提示词，可编辑保存
5. 推演：能够正常提取图信息和运行推演

## 验收标准（抽象描述）
- 项目可以正常创建和保存
- 提示词编辑器显示当前实际使用的提示词
- 各标签页/视图切换正常，无报错
- 状态提取和推演功能可用
- 设置页面 LLM 配置显示数据库中的真实配置
- 项目管理页面功能完善，支持新建项目
- 雪花步骤生成的角色、场景、幕章等内容显示完整信息（所有字段），不仅仅是名字列表
- 前端代码与 frontend_implementation_spec.md 规格文档一致
- 前端开发服务器可以正常启动，页面无控制台错误

## 约束条件
- 前端项目路径：/home/zxh/ainovel_v3/project/frontend
- 后端项目路径：/home/zxh/ainovel_v3/project/backend
- 前端开发端口：5185
- 技术栈：Vue 3 + TypeScript + Element Plus + Pinia + Vue Router + Axios
- 所有 API 调用必须通过统一的 api/ 模块
- 组件必须使用 <script setup lang="ts"> 语法
- 不要引入新的依赖库
- 修复时优先保证功能正确性，不要过度重构
- 参考文档：doc/frontend_implementation_spec.md 和系统架构文档

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

