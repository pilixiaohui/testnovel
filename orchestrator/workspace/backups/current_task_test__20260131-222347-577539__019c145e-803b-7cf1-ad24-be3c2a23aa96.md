# Current Task (Iteration 20)
assigned_agent: TEST
work_mode: design

## 任务目标
为M3-T3(E2E测试真实接口覆盖)编写红灯测试

## 功能点
1. E2E测试支持真实接口模式（不注册page.route mock）
2. 真实接口模式下验证超时配置生效（前端600s超时）
3. 测试可通过环境变量或配置切换mock/real模式

## 测试场景
1. 新建E2E测试文件 `project/frontend/tests/e2e/real-api.spec.ts`
2. 测试用例：真实接口模式下调用后端API（不mock），验证请求能正常发出
3. 测试用例：验证前端axios超时配置为600000ms
4. 测试应在mock模式下跳过或标记为需要真实后端

## 被测代码路径
- `project/frontend/src/api/index.ts` - axios配置
- `project/frontend/tests/e2e/*.spec.ts` - 现有E2E测试（参考mock模式）

## 验收标准
1. 新测试文件存在且语法正确
2. `cd project/frontend && npx playwright test real-api.spec.ts --list` → 列出测试用例
3. 测试在无真实后端时应跳过或标记pending（红灯状态）

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

