# Current Task (Iteration 2)
assigned_agent: IMPLEMENTER
self_test: enabled
resume: true

## 上轮进展
上轮你修复了Step3前置校验（requireRootForStep）和LLM设置round-trip测试。但用户报告的7大类核心问题大部分尚未修复。

## 本轮必须修复的问题（按优先级排序）

### P0: 核心功能缺陷
1. **项目无法保存** - 检查project store的saveProject action是否正确调用后端API，确保项目数据能持久化
2. **无法新建项目** - HomeView中创建新项目的功能是否完整（调用后端创建root API，跳转到雪花流程）
3. **标签页切换出错** - 检查router配置和各View组件的生命周期，确保切换时不报错

### P1: 数据显示问题
4. **雪花步骤生成内容只显示名字列表** - Step3Panel（角色）、Step4Panel（场景）、Step5Panel（幕章）、Step6Panel（锚点）等组件需要显示完整信息而非仅名字。角色需显示ambition/conflict/epiphany/voice_dna等所有字段，场景需显示title/expected_outcome/conflict_type等，幕章需显示title/purpose/tone/focus等，锚点需显示anchor_type/description/constraint_type/required_conditions等。同时需要支持显示原始JSON信息和解析后的结构化展示
5. **提示词未显示实际值** - SnowflakeView中的提示词编辑功能需要从后端API加载当前实际使用的提示词（GET /roots/{id}/snowflake/prompts），而非显示空白或硬编码默认值
6. **设置LLM配置不显示真实数据** - SettingsView需要从后端读取数据库中的真实LLM配置并显示

### P2: 功能完善
7. **无法提取图信息和推演** - 检查StateExtractPanel和SimulationView的API调用是否正确连接后端
8. **项目管理不完善** - HomeView需要完善项目列表展示、项目详情、删除项目等功能

## 验收标准
- 在浏览器中可以创建新项目并保存
- 雪花流程各步骤生成的内容显示完整字段信息（不仅仅是名字）
- 提示词编辑器显示从后端加载的实际提示词
- 设置页面显示数据库中的真实LLM配置
- 各标签页切换无报错
- 前端开发服务器正常启动，无控制台错误
- 单元测试全部通过

## 约束
- 前端项目路径：/home/zxh/ainovel_v3/project/frontend
- 后端项目路径：/home/zxh/ainovel_v3/project/backend
- 前端开发端口：5185
- 技术栈：Vue 3 + TypeScript + Element Plus + Pinia
- 修复时优先保证功能正确性
- 使用Playwright MCP进行真实浏览器验证

## 执行环境
- 工作目录: /home/zxh/ainovel_v3
- 代码目录: /home/zxh/ainovel_v3/project/backend
- 前端目录: /home/zxh/ainovel_v3/project/frontend
- Python: /home/zxh/ainovel_v3/project/backend/.venv/bin/python
- 环境变量:
  - MEMGRAPH_HOST=localhost
  - MEMGRAPH_PORT=7687
- 测试执行配置:
  - 前端开发端口: 5185
  - 服务启动等待: 6秒
  - unit测试超时: 120秒
  - integration测试超时: 300秒
  - e2e测试超时: 600秒

