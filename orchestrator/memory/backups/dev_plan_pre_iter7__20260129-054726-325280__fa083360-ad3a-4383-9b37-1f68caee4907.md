# Development Plan

## M1: 前端契约对齐

### M1-T1: 重构前端 API 层
- status: VERIFIED
- acceptance: `ls project/frontend/src/api/*.ts | wc -l` >= 13; `npm run build` 成功
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T2: 补齐前端类型定义
- status: VERIFIED
- acceptance: `grep -c 'export interface' project/frontend/src/types/*.ts` >= 24; 类型与规格 2.1-2.3 一致
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T3: 补齐 stores/types 导出入口
- status: VERIFIED
- acceptance: `project/frontend/src/stores/index.ts` 和 `project/frontend/src/types/index.ts` 存在且导出所有模块
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T4: 补齐 composables/utils/styles
- status: VERIFIED
- acceptance: usePolling.ts, useNotification.ts, format.ts, validation.ts, variables.scss, reset.scss, global.scss 存在
- evidence: REVIEW 报告 Iteration 7 验收 PASS

## M2: 前端组件与视图补齐

### M2-T1: 补齐 common 组件
- status: DONE
- acceptance: AppHeader.vue, LoadingOverlay.vue, AppSidebar.vue, EmptyState.vue 存在于 components/common/
- evidence: DEV 报告 Iteration 8 完成

### M2-T2: 补齐 snowflake 组件
- status: DONE
- acceptance: StepIndicator, Step1-6Panel, LoglineSelector, ActCard, ChapterCard 存在于 components/snowflake/
- evidence: DEV 报告 Iteration 9 完成

### M2-T3: 补齐 simulation 组件
- status: DONE
- acceptance: AgentStatePanel, ArbitrationResult, ConvergenceIndicator, RoundPlayer, ActionTimeline 存在于 components/simulation/
- evidence: DEV 报告 Iteration 10 完成，ActionTimeline 在 Iteration 15 实现

### M2-T4: 补齐 editor 组件
- status: DONE
- acceptance: SceneEditor, ContentRenderer, VersionDiff, MarkdownPreview, SimulationLogs, SceneContextPanel 存在于 components/editor/
- evidence: DEV 报告 Iteration 11 完成

### M2-T5: 补齐 world 组件
- status: DONE
- acceptance: RelationGraph, SubplotPanel, EntityList, AnchorTimeline 存在于 components/world/
- evidence: DEV 报告 Iteration 12 完成

### M2-T6: 视图文件命名对齐
- status: DONE
- acceptance: SnowflakeView, SimulationView, EditorView, WorldView 存在于 views/
- evidence: DEV 报告 Iteration 13 完成

### M2-T7: 修复测试文件视图引用
- status: DONE
- acceptance: 测试文件正确引用新视图名（SnowflakeView, SimulationView, EditorView, WorldView）
- evidence: Serena 修复 fe_core_views_contract.spec.ts 导入引用

## M3: Playwright E2E 测试

### M3-T1: 配置 Playwright
- status: TODO
- acceptance: `npx playwright test --list` 可执行
- evidence: 无

### M3-T2: 雪花流程 E2E 测试
- status: TODO
- acceptance: `npx playwright test snowflake.spec.ts` 通过
- evidence: 无

### M3-T3: 推演控制台 E2E 测试
- status: TODO
- acceptance: `npx playwright test simulation.spec.ts` 通过
- evidence: 无
