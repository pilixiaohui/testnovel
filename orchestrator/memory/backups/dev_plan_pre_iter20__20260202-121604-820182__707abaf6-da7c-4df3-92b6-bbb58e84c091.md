# Dev Plan (Snapshot)

## Milestone M0: 测试基线修复

### M0-T1: 修复后端 pytest 测试基线
- status: VERIFIED
- acceptance:
  - `cd {代码目录} && {Python} -m pytest -q` → exit 0, 0 failed
- evidence: REVIEW Iteration 5 验收 PASS + 代码审查 PASS

### M0-T2: 修复前端 vitest 测试基线
- status: VERIFIED
- acceptance:
  - `cd {前端目录} && npm run test:unit` → exit 0, 0 failed
- evidence: REVIEW Iteration 5 验收 PASS + 代码审查 PASS

---

## Milestone M1: 项目上下文闭环

### M1-T1: 统一项目上下文契约
- status: VERIFIED
- acceptance:
  - 所有页面从 project store 获取 rootId/branchId
  - 禁止硬编码 ID
  - 路由契约一致（sceneId 处理无冲突）
- evidence: REVIEW Iteration 15 验收 PASS + 代码审查 PASS

### M1-T2: 项目列表与持久化
- status: VERIFIED
- acceptance:
  - 项目列表 API 可用
  - 刷新后数据不丢失
- evidence: REVIEW Iteration 11 验收 PASS + 代码审查 PASS

---

## Milestone M2: 编辑功能实现

### M2-T1: 场景内容可编辑
- status: DOING
- acceptance:
  - EditorView 中场景文本可修改
  - 保存操作调用后端 API
  - `cd {前端目录} && npm run test:unit` → exit 0, 0 failed
  - `grep -rn 'contenteditable\|v-model.*content\|@input.*content' {前端目录}/src/views/EditorView.vue` → 有匹配
- evidence: 待 TDD 流程完成

### M2-T2: AI 生成结果可修改
- status: TODO
- acceptance:
  - 雪花流程生成的内容可编辑
  - 修改后可保存
- evidence: 待 TDD 流程完成

### M2-T3: 提示词可自定义
- status: TODO
- acceptance:
  - 用户可修改 AI 生成的提示词
  - 自定义提示词可保存和复用
- evidence: 待 TDD 流程完成
