# Development Plan

## M1: 前端契约对齐

### M1-T1: 重构前端 API 层
- status: VERIFIED
- acceptance: `ls project/frontend/src/api/*.ts | wc -l` >= 13; `npm run build` 成功
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T2: 补齐前端类型定义
- status: VERIFIED
- acceptance: `grep -c 'export interface' project/frontend/src/types/*.ts` >= 24; 类型与规格 2.1-2.3 一致
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T3: 补齐 stores/types 导出入口
- status: VERIFIED
- acceptance: `project/frontend/src/stores/index.ts` 和 `project/frontend/src/types/index.ts` 存在且导出所有模块
- evidence: REVIEW 报告 Iteration 7 验收 PASS

### M1-T4: 补齐 composables/utils/styles
- status: VERIFIED
- acceptance: usePolling.ts, useNotification.ts, format.ts, validation.ts, variables.scss, reset.scss, global.scss 存在
- evidence: REVIEW 报告 Iteration 7 验收 PASS

## M2: 前端组件与视图补齐

### M2-T1: 补齐 common 组件
- status: VERIFIED
- acceptance: AppHeader.vue, LoadingOverlay.vue, AppSidebar.vue, EmptyState.vue 存在于 components/common/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T2: 补齐 snowflake 组件
- status: VERIFIED
- acceptance: StepIndicator, Step1-6Panel, LoglineSelector, ActCard, ChapterCard 存在于 components/snowflake/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T3: 补齐 simulation 组件
- status: VERIFIED
- acceptance: AgentStatePanel, ArbitrationResult, ConvergenceIndicator, RoundPlayer, ActionTimeline 存在于 components/simulation/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T4: 补齐 editor 组件
- status: VERIFIED
- acceptance: SceneEditor, ContentRenderer, VersionDiff, MarkdownPreview, SimulationLogs, SceneContextPanel 存在于 components/editor/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T5: 补齐 world 组件
- status: VERIFIED
- acceptance: RelationGraph, SubplotPanel, EntityList, AnchorTimeline 存在于 components/world/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T6: 视图文件命名对齐
- status: VERIFIED
- acceptance: SnowflakeView, SimulationView, EditorView, WorldView 存在于 views/
- evidence: REVIEW 报告 Iteration 6 验收 PASS

### M2-T7: 修复测试文件视图引用
- status: VERIFIED
- acceptance: 测试文件正确引用新视图名（SnowflakeView, SimulationView, EditorView, WorldView）
- evidence: REVIEW 报告 Iteration 6 验收 PASS

## M3: Playwright E2E 测试

### M3-T1: 配置 Playwright
- status: VERIFIED
- acceptance: `npx playwright test --list` 可执行
- evidence: REVIEW 报告 Iteration 12 验收 PASS

### M3-T2: 雪花流程 E2E 测试
- status: VERIFIED
- acceptance: `npx playwright test snowflake.spec.ts` 通过
- evidence: REVIEW 报告 Iteration 12 验收 PASS

### M3-T3: 推演控制台 E2E 测试
- status: VERIFIED
- acceptance: `npx playwright test simulation.spec.ts` 通过
- evidence: REVIEW 报告 Iteration 12 验收 PASS

## M4: FINISH_REVIEW 问题修复

### M4-T1: 修复测试配置与 E2E 脚本
- status: DONE
- acceptance: `npm run test:e2e` 执行 Playwright 且全部通过
- evidence: DEV 报告 Iteration 11 自测 PASS（部分），REVIEW 报告 Iteration 12 发现测试问题待修复

## M5: 首页路由与布局修复

### M5-T1: 修复 HomeView 和应用布局
- status: DONE
- acceptance: `npm run build` 成功；Playwright 访问首页显示完整内容（AppHeader + AppSidebar + 主内容区）
- evidence: DEV 报告 Iteration 2 自测 PASS，待 REVIEW 验收
