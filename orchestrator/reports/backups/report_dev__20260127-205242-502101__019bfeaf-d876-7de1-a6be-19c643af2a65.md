已阅读开发行为规范
iteration: 9
self_test: enabled

## 改动说明

### 改了哪里
- `app/main.py:353` - 移除关键 API payload 的默认值，改为必填输入以缺失即失败
- `app/services/simulation_engine.py:259` - 去掉事件/冲突升级的兜底写入，缺失直接抛错
- `app/services/smart_renderer.py:17` - 移除无 LLM 的降级渲染，改为直接失败

### 为什么这样改
已完成核心任务：清理关键路径的输入兜底与隐式默认，使缺失依赖或非法输入立即失败，符合验收“快速失败”的要求。KISS/YAGNI：删除隐式默认和降级分支，减少不必要的路径；SOLID（SRP）：把必填约束收敛在入口模型/关键依赖处，避免业务层承担容错；DRY：统一必填约束，减少各处重复补默认的逻辑。挑战：验收测试文件 `tests/unit/test_fast_fail.py` 缺失导致无法完成自测；已按要求执行命令并记录失败。下一步：补齐/下发该测试文件或调整验收命令后重新自测。

## 自测结果（仅 enabled 模式）

- 验收命令: `MEMGRAPH_HOST=localhost MEMGRAPH_PORT=7687 /home/zxh/ainovel_v3/project/backend/.venv/bin/python -m pytest -q tests/unit/test_fast_fail.py`
- 返回码: 4
- 失败原因: ERROR: file or directory not found: tests/unit/test_fast_fail.py; no tests ran in 0.00s
- 测试通过数: 0 passed
- coverage: 0%
- 自测结果: FAIL

结论：BLOCKED
阻塞：tests/unit/test_fast_fail.py 缺失，无法执行验收（阻塞类型：环境问题）

【MCP调用简报】
服务: 无
触发: 未使用MCP服务
参数: 无
结果: 无
状态: 跳过