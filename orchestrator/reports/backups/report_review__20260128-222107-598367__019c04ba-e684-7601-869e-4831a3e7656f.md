已阅读审阅行为规范
iteration: 5
review_mode: single

## 任务理解

审阅的任务：验证 M2-T0 后端结构路径对齐（ports/topone_client/models 集中）是否满足验收标准，并给出 PASS/FAIL 证据。
验收标准：
1. `test -f /home/zxh/ainovel_v3/project/backend/app/ports.py` → exit 0
2. `test -f /home/zxh/ainovel_v3/project/backend/app/llm/topone_client.py` → exit 0
3. `rg -n 'class .*BaseModel' /home/zxh/ainovel_v3/project/backend/app/models.py` → exit 0

## 验收执行

- 验收命令: `test -f /home/zxh/ainovel_v3/project/backend/app/ports.py`
- 返回码: 0
- 测试结果: N/A
- 覆盖率: N/A

- 验收命令: `test -f /home/zxh/ainovel_v3/project/backend/app/llm/topone_client.py`
- 返回码: 0
- 测试结果: N/A
- 覆盖率: N/A

- 验收命令: `rg -n 'class .*BaseModel' /home/zxh/ainovel_v3/project/backend/app/models.py`
- 返回码: 0
- 测试结果: N/A
- 覆盖率: N/A

## 证据分析

### 执行输出
```
[1] test -f /home/zxh/ainovel_v3/project/backend/app/ports.py
stdout: (无)
stderr: (无)

[2] test -f /home/zxh/ainovel_v3/project/backend/app/llm/topone_client.py
stdout: (无)
stderr: (无)

[3] rg -n 'class .*BaseModel' /home/zxh/ainovel_v3/project/backend/app/models.py
12:class SnowflakeRoot(BaseModel):
23:class CharacterSheet(BaseModel):
41:class SceneNode(BaseModel):
55:class CharacterValidationResult(BaseModel):
62:class Commit(BaseModel):
72:class SceneOrigin(BaseModel):
84:class SceneVersion(BaseModel):
103:class BranchHead(BaseModel):
121:class Desire(BaseModel):
133:class Intention(BaseModel):
144:class AgentAction(BaseModel):
155:class ActionResult(BaseModel):
165:class DMArbitration(BaseModel):
174:class ConvergenceCheck(BaseModel):
183:class SimulationRoundResult(BaseModel):
197:class FeedbackCorrection(BaseModel):
208:class FeedbackReport(BaseModel):
217:class ReplanRequest(BaseModel):
226:class ReplanResult(BaseModel):
235:class ToponeMessage(BaseModel):
240:class ToponeGeneratePayload(BaseModel):
254:class LogicCheckPayload(BaseModel):
265:class LogicCheckResult(BaseModel):
273:class StateExtractPayload(BaseModel):
280:class SceneRenderPayload(BaseModel):
291:class StateProposal(BaseModel):
301:class IdeaPayload(BaseModel):
305:class LoglinePayload(BaseModel):
309:class ScenePayload(BaseModel):
314:class Step4Result(BaseModel):
320:class BranchPayload(BaseModel):
324:class BranchView(BaseModel):
329:class SubplotCreatePayload(BaseModel):
337:class CreateEntityPayload(BaseModel):
345:class UpsertRelationPayload(BaseModel):
352:class EntityView(BaseModel):
361:class CharacterView(BaseModel):
366:class EntityRelationView(BaseModel):
373:class SceneView(BaseModel):
386:class RootGraphView(BaseModel):
397:class StructureTreeActView(BaseModel):
404:class StructureTreeView(BaseModel):
410:class SceneReorderPayload(BaseModel):
415:class SceneReorderResult(BaseModel):
422:class SceneContextView(BaseModel):
435:class SceneCompletePayload(BaseModel):
440:class SceneCompletionOrchestratePayload(BaseModel):
455:class SceneCompletionResult(BaseModel):
470:class SceneRenderResult(BaseModel):
477:class ForkFromCommitPayload(BaseModel):
483:class ForkFromScenePayload(BaseModel):
490:class ResetBranchPayload(BaseModel):
494:class CommitScenePayload(BaseModel):
501:class CommitResult(BaseModel):
506:class CreateSceneOriginPayload(BaseModel):
512:class CreateSceneOriginResult(BaseModel):
518:class DeleteSceneOriginPayload(BaseModel):
522:class GcPayload(BaseModel):
526:class GcResult(BaseModel):
531:class Step5aPayload(BaseModel):
537:class Step5bPayload(BaseModel):
543:class AnchorCreatePayload(BaseModel):
552:class AnchorUpdatePayload(BaseModel):
559:class AnchorCheckPayload(BaseModel):
564:class AgentInitPayload(BaseModel):
569:class AnchorGeneratePayload(BaseModel):
575:class AgentDesiresPayload(BaseModel):
579:class AgentDecidePayload(BaseModel):
583:class DMArbitratePayload(BaseModel):
589:class DMConvergePayload(BaseModel):
594:class DMIntervenePayload(BaseModel):
599:class DMReplanPayload(BaseModel):
605:class SimulationRoundPayload(BaseModel):
611:class SimulationScenePayload(BaseModel):
616:class RenderScenePayload(BaseModel):
621:class FeedbackLoopPayload(BaseModel):
```

### 代码审查
- 结构路径对齐已满足：`/home/zxh/ainovel_v3/project/backend/app/ports.py` 与 `/home/zxh/ainovel_v3/project/backend/app/llm/topone_client.py` 均存在（命令 1、2 exit 0）。  
- `models.py` 集中定义 BaseModel 类满足“模型集中”验收要求，体现 DRY（命令 3 命中多处类定义，见输出）。

## 结论

结论：PASS  
阻塞：无

## 建议

1. MAIN 可将 M2-T0 状态更新为 VERIFIED，并在 dev_plan 中补充 “Iteration 5 review PASS” 证据。  
2. 若后续维护需要拆分模型文件，建议先建立清晰的模块边界与导出索引，避免违背 DRY/SRP（保持 KISS）。

【MCP调用简报】
服务: serena  
触发: 执行工单验收命令并获取证据  
参数: execute_shell_command（test -f x2, rg -n；均含 max_answer_chars=-1）  
结果: 三条命令 return_code=0，models.py 命中 BaseModel 定义  
状态: 成功