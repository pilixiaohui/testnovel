已阅读开发行为规范
iteration: 6
self_test: enabled

## 改动说明

### 改了哪里
- `project/backend/app/models.py:196` - 新增反馈修正模型并收敛 FeedbackReport.corrections 字段类型。
- `project/backend/app/services/feedback_detector.py:40` - 按模型属性读取反馈动作，保证输出结构一致。
- `project/backend/app/main.py:980` - 反馈端点新增 `/api/v1/simulation/feedback` 路径并复用处理逻辑。
- `project/backend/app/main.py:996` - 解析模拟日志 JSON 字段并输出结构化回合结果。
- `project/frontend/src/api/feedback.ts:1` - 前端反馈 API 对齐 `/api/v1/simulation/feedback` 及 payload 结构。

### 为什么这样改
对齐反馈端点与前端接口约定，同时将模拟日志返回结构化字段，消除前后端字段不一致。KISS/YAGNI：只做字段与路径对齐，不引入额外流程；SRP/DRY：新增 `_normalize_simulation_log` 统一解析逻辑；快速失败：JSON 解析与字段缺失直接抛错避免兜底。  
挑战：模拟日志原始字段是 JSON 字符串且现有用例依赖 `id/round_number`；通过保留原字段并补充结构化结果解决。下一步：确认不再需要 `/api/v1/feedback/loop` 后可移除旧路径。

## 自测结果（仅 enabled 模式）

- 验收命令: `MEMGRAPH_HOST=localhost MEMGRAPH_PORT=7687 /home/zxh/ainovel_v3/project/backend/.venv/bin/python -m pytest -q tests/unit/test_models_bdi.py`
- 返回码: 0
- 测试通过数: 4 passed
- coverage: 0%（未生成覆盖率）
- 自测结果: PASS

结论：PASS
阻塞：无

【MCP调用简报】
服务: serena  
触发: 读取/编辑后端模型与端点并执行验收测试  
参数: read_file/replace_regex/create_text_file/execute_shell_command（max_answer_chars=-1）  
结果: 对齐反馈端点与日志结构，验收测试 4 passed  
状态: 成功